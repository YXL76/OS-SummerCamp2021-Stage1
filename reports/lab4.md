# Lab4 Report

## 实验内容

- 实现虚拟内存。
- 实现 `sys_mmap` 和 `sys_munmap` 系统调用。
- 更新 `sys_write` 的范围检查。

## 运行截图

![result-4_only](./result-4_only.gif)
_4_only_

## 问答作业

1. 请列举 SV39 页表页表项的组成，结合课堂内容，描述其中的标志位有何作用／潜在作用？
2. 缺页
   1. 请问哪些异常可能是缺页导致的？
   2. 发生缺页时，描述相关的重要寄存器的值。
   3. 这样做有哪些好处？
   4. 请问处理 10G 连续的内存页面，需要操作的页表实际大致占用多少内存（给出数量级即可）？
   5. 请简单思考如何才能在现有框架基础上实现 Lazy 策略，缺页时又如何处理？描述合理即可，不需要考虑实现。
   6. 此时页面失效如何表现在页表项（PTE）上？
3. 双页表与单页表
   1. 如何更换页表？
   2. 单页表情况下，如何控制用户态无法访问内核页面？
   3. 单页表有何优势？
   4. 双页表实现下，何时需要更换页表？假设你写一个单页表操作系统，你会选择何时更换页表？
